<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>FlameGame</title><meta name="description" content="">
    <link rel="preload" href="/assets/style-BN648wXD.css" as="style"><link rel="stylesheet" href="/assets/style-BN648wXD.css">
    <link rel="modulepreload" href="/assets/app-B8TszOv9.js"><link rel="modulepreload" href="/assets/game.html-CAIdT-ZG.js"><link rel="modulepreload" href="/assets/lowlevel-OSTE4exW.js">
    <link rel="prefetch" href="/assets/index.html-arzyZ3nx.js" as="script"><link rel="prefetch" href="/assets/index.html-BBP4r19K.js" as="script"><link rel="prefetch" href="/assets/index.html-BBP4r19K.js" as="script"><link rel="prefetch" href="/assets/camera_component.chatgpt.html-DvEcJ_R-.js" as="script"><link rel="prefetch" href="/assets/camera_component.html-BGq0fxdF.js" as="script"><link rel="prefetch" href="/assets/camera_component.qwen.html-FJcBALns.js" as="script"><link rel="prefetch" href="/assets/collision_detection.html-Cbw-yUM9.js" as="script"><link rel="prefetch" href="/assets/collision_detection.qwen.html-CtxH7s8z.js" as="script"><link rel="prefetch" href="/assets/components.html-C1zhZrl3.js" as="script"><link rel="prefetch" href="/assets/components.qwen.html-BiJ0BJ0G.js" as="script"><link rel="prefetch" href="/assets/effects.html-VV8MUg7h.js" as="script"><link rel="prefetch" href="/assets/effects.qwen.html-DsA-4pUZ.js" as="script"><link rel="prefetch" href="/assets/game.chatgpt.html-wqVLDES4.js" as="script"><link rel="prefetch" href="/assets/game_widget.chatgpt.html-B9M6ZuSj.js" as="script"><link rel="prefetch" href="/assets/game_widget.html-BKEu2_1-.js" as="script"><link rel="prefetch" href="/assets/overlays.chatgpt.html-Nw5VrR3v.js" as="script"><link rel="prefetch" href="/assets/overlays.html-D-mkVbtf.js" as="script"><link rel="prefetch" href="/assets/platforms.chatgpt.html-G-AEyOkZ.js" as="script"><link rel="prefetch" href="/assets/platforms.html-BDogOiXU.js" as="script"><link rel="prefetch" href="/assets/router.chatgpt.html-B6IGFlgz.js" as="script"><link rel="prefetch" href="/assets/router.html-BBO-JMDL.js" as="script"><link rel="prefetch" href="/assets/structure.chatgpt.html-DRK55Qj2.js" as="script"><link rel="prefetch" href="/assets/structure.html-CZvhgO9r.js" as="script"><link rel="prefetch" href="/assets/structure.qwen.html-D7NUJ7ig.js" as="script"><link rel="prefetch" href="/assets/align_component.chatgpt.html-DR2ghDAD.js" as="script"><link rel="prefetch" href="/assets/align_component.html-W8ibR_D6.js" as="script"><link rel="prefetch" href="/assets/debug.chatgpt.html-CMWM3ry8.js" as="script"><link rel="prefetch" href="/assets/debug.html-Ct3A36sB.js" as="script"><link rel="prefetch" href="/assets/performance.chatgpt.html-vC2svxVx.js" as="script"><link rel="prefetch" href="/assets/performance.html-C8S0Wxmw.js" as="script"><link rel="prefetch" href="/assets/util.chatgpt.html-B7Zl4jU8.js" as="script"><link rel="prefetch" href="/assets/util.html-NP2UKvaX.js" as="script"><link rel="prefetch" href="/assets/widgets.chatgpt.html-B80jZpVG.js" as="script"><link rel="prefetch" href="/assets/widgets.html-BFsLnrBI.js" as="script"><link rel="prefetch" href="/assets/drag_events.chatgpt.html-DFfjOyUl.js" as="script"><link rel="prefetch" href="/assets/drag_events.html-BtZOQI0f.js" as="script"><link rel="prefetch" href="/assets/gesture_input.chatgpt.html-Dp5SsVbf.js" as="script"><link rel="prefetch" href="/assets/gesture_input.html-CxblHVNe.js" as="script"><link rel="prefetch" href="/assets/hardware_keyboard_detector.chatgpt.html-CLQ_0y1l.js" as="script"><link rel="prefetch" href="/assets/hardware_keyboard_detector.html-BmLKvFEJ.js" as="script"><link rel="prefetch" href="/assets/keyboard_input.chatgpt.html-BcRtS1pD.js" as="script"><link rel="prefetch" href="/assets/keyboard_input.html-C_0h1Sp5.js" as="script"><link rel="prefetch" href="/assets/keyboard_input.qwen.html-DqwDo_w7.js" as="script"><link rel="prefetch" href="/assets/other_inputs.chatgpt.html-B9NR94Tn.js" as="script"><link rel="prefetch" href="/assets/other_inputs.html-DYUJoz2X.js" as="script"><link rel="prefetch" href="/assets/other_inputs.qwen.html-C8FCB0gl.js" as="script"><link rel="prefetch" href="/assets/pointer_events.chatgpt.html-97gc-4S6.js" as="script"><link rel="prefetch" href="/assets/pointer_events.html-BMUS2Dy2.js" as="script"><link rel="prefetch" href="/assets/tap_events.chatgpt.html-DCc26h6w.js" as="script"><link rel="prefetch" href="/assets/tap_events.html-U6QBZqoN.js" as="script"><link rel="prefetch" href="/assets/decorators.chatgpt.html-CsNo6Jfm.js" as="script"><link rel="prefetch" href="/assets/decorators.html-zVhtVzeG.js" as="script"><link rel="prefetch" href="/assets/images.chatgpt.html-BRhJsW1L.js" as="script"><link rel="prefetch" href="/assets/images.html-N7pMFzNp.js" as="script"><link rel="prefetch" href="/assets/images.qwen.html-Bu1Ba2i_.js" as="script"><link rel="prefetch" href="/assets/layers.chatgpt.html-g_4IlMCj.js" as="script"><link rel="prefetch" href="/assets/layers.html-D39C0Yh_.js" as="script"><link rel="prefetch" href="/assets/layers.qwen.html-Cap9ALNs.js" as="script"><link rel="prefetch" href="/assets/palette.chatgpt.html-D-pwtky0.js" as="script"><link rel="prefetch" href="/assets/palette.html-C9GXK8pX.js" as="script"><link rel="prefetch" href="/assets/particles.chatgpt.html-CRM61T3Z.js" as="script"><link rel="prefetch" href="/assets/particles.html-DORo3lVm.js" as="script"><link rel="prefetch" href="/assets/text_rendering.html-Cuwa5R4e.js" as="script"><link rel="prefetch" href="/assets/text_rendering.qwen.html-DnMNOnfw.js" as="script"><link rel="prefetch" href="/assets/404.html-DEivmG0Z.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-BpHim7uC.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/images/logo.png" alt><!----></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://docs.flame-engine.org/1.22.0/" aria-label="AI 融合游戏引擎丨加微信：DigitalSpriteJack" rel="noopener noreferrer" target="_blank"><!---->AI 融合游戏引擎丨加微信：DigitalSpriteJack<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://docs.flame-engine.org/1.22.0/" aria-label="flame版本 1.22.0" rel="noopener noreferrer" target="_blank"><!---->flame版本 1.22.0<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://flame-engine.org/" aria-label="官网" rel="noopener noreferrer" target="_blank"><!---->官网<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://examples.flame-engine.org/" aria-label="示例" rel="noopener noreferrer" target="_blank"><!---->示例<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/flame-engine/flame" aria-label="Github" rel="noopener noreferrer" target="_blank"><!---->Github<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://docs.flame-engine.org/1.22.0/" aria-label="AI 融合游戏引擎丨加微信：DigitalSpriteJack" rel="noopener noreferrer" target="_blank"><!---->AI 融合游戏引擎丨加微信：DigitalSpriteJack<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://docs.flame-engine.org/1.22.0/" aria-label="flame版本 1.22.0" rel="noopener noreferrer" target="_blank"><!---->flame版本 1.22.0<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://flame-engine.org/" aria-label="官网" rel="noopener noreferrer" target="_blank"><!---->官网<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://examples.flame-engine.org/" aria-label="示例" rel="noopener noreferrer" target="_blank"><!---->示例<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/flame-engine/flame" aria-label="Github" rel="noopener noreferrer" target="_blank"><!---->Github<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/" aria-label="入门指南"><!---->入门指南<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading active collapsible" href="/guide/flame/structure.chatgpt.html" aria-label="▼ Flame（文件结构..）"><!---->▼ Flame（文件结构..）<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/structure.chatgpt.html" aria-label="|-文件结构"><!---->|-文件结构<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/structure.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/structure.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/structure.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/game_widget.chatgpt.html" aria-label="|-游戏小部件"><!---->|-游戏小部件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/game_widget.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/game_widget.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item active collapsible" href="/guide/flame/game.chatgpt.html" aria-label="|-游戏循环"><!---->|-游戏循环<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/game.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/guide/flame/game.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/components.qwen.html" aria-label="|-组件"><!---->|-组件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/components.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/components.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/router.chatgpt.html" aria-label="|-路由"><!---->|-路由<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/router.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/router.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/platforms.chatgpt.html" aria-label="|-平台"><!---->|-平台<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/platforms.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/platforms.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/collision_detection.qwen.html" aria-label="|-碰撞检测"><!---->|-碰撞检测<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/collision_detection.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/collision_detection.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/effects.qwen.html" aria-label="|-效果器"><!---->|-效果器<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/effects.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/effects.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/camera_component.qwen.html" aria-label="|-相机组件"><!---->|-相机组件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/camera_component.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/camera_component.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/camera_component.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/keyboard_input.chatgpt.html" aria-label="| ▼ 输入(..键盘输入..)"><!---->| ▼ 输入(..键盘输入..)<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/drag_events.chatgpt.html" aria-label="|-拖拽事件"><!---->|-拖拽事件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/drag_events.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/drag_events.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/gesture_input.chatgpt.html" aria-label="|-手势输入"><!---->|-手势输入<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/gesture_input.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/gesture_input.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/keyboard_input.chatgpt.html" aria-label="|-键盘输入"><!---->|-键盘输入<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/keyboard_input.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/keyboard_input.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/keyboard_input.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/other_inputs.chatgpt.html" aria-label="|-其他输入"><!---->|-其他输入<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/other_inputs.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/other_inputs.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/other_inputs.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/tap_events.chatgpt.html" aria-label="|-点击事件"><!---->|-点击事件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/tap_events.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/tap_events.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/pointer_events.chatgpt.html" aria-label="|-指针事件"><!---->|-指针事件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/pointer_events.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/pointer_events.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/hardware_keyboard_detector.chatgpt.html" aria-label="|-硬件键盘探测器"><!---->|-硬件键盘探测器<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/hardware_keyboard_detector.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/hardware_keyboard_detector.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/rendering/palette.chatgpt.html" aria-label="| ▼ 渲染(颜色..)"><!---->| ▼ 渲染(颜色..)<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/rendering/palette.chatgpt.html" aria-label="|-颜色"><!---->|-颜色<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/palette.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/palette.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/rendering/decorators.chatgpt.html" aria-label="|-装饰器"><!---->|-装饰器<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/decorators.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/decorators.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/rendering/images.chatgpt.html" aria-label="|-图像精灵和动画"><!---->|-图像精灵和动画<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/images.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/images.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/images.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/rendering/layers.chatgpt.html" aria-label="|-图层和快照"><!---->|-图层和快照<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/layers.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/layers.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/layers.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/rendering/particles.chatgpt.html" aria-label="|-粒子"><!---->|-粒子<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/particles.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/particles.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/particles.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/rendering/text_rendering.qwen.html" aria-label="|-文本渲染"><!---->|-文本渲染<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/text_rendering.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/text_rendering.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/layout/align_component.chatgpt.html" aria-label="| ▼ 布局(对齐组件)"><!---->| ▼ 布局(对齐组件)<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/layout/align_component.chatgpt.html" aria-label="|-对齐组件"><!---->|-对齐组件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/layout/align_component.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/layout/align_component.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/overlays.chatgpt.html" aria-label="|-悬浮层"><!---->|-悬浮层<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/overlays.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/overlays.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/other/debug.chatgpt.html" aria-label="| ▼ 其他(调试..)"><!---->| ▼ 其他(调试..)<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/other/debug.chatgpt.html" aria-label="|-调试"><!---->|-调试<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/debug.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/debug.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/other/util.chatgpt.html" aria-label="|-工具"><!---->|-工具<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/util.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/util.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/other/widgets.chatgpt.html" aria-label="|-小部件"><!---->|-小部件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/widgets.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/widgets.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/other/performance.chatgpt.html" aria-label="|-性能优化"><!---->|-性能优化<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/performance.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/performance.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="flamegame" tabindex="-1"><a class="header-anchor" href="#flamegame"><span>FlameGame</span></a></h1><p>The <code>FlameGame</code> class implements a <code>Component</code> based <code>Game</code>. It has a tree of components and calls the <code>update</code> and <code>render</code> methods of all components that have been added to the game.</p><p>We refer to this component-based system as the Flame Component System (FCS). Throughout the documentation, FCS is used to reference this system.</p><p>Components can be added to the <code>FlameGame</code> directly in the constructor with the named <code>children</code> argument, or from anywhere else with the <code>add</code>/<code>addAll</code> methods. Most of the time however, you want to add your children to a <code>World</code>, the default world exist under <code>FlameGame.world</code> and you add components to it just like you would to any other component.</p><p>A simple <code>FlameGame</code> implementation that adds two components, one in <code>onLoad</code> and one directly in the constructor can look like this:</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/components.dart&#39;</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/game.dart&#39;</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flutter/widgets.dart&#39;</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/// A component that renders the crate sprite, with a 16 x 16 size.</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">MyCrate</span> <span class="token keyword">extends</span> <span class="token class-name">SpriteComponent</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token class-name">MyCrate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token metadata function">@override</span></span>
<span class="line">  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">    sprite <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">Sprite</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;crate.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">MyWorld</span> <span class="token keyword">extends</span> <span class="token class-name">World</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token metadata function">@override</span></span>
<span class="line">  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">MyCrate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">final</span> myGame <span class="token operator">=</span> <span class="token class-name">FlameGame</span><span class="token punctuation">(</span>world<span class="token punctuation">:</span> <span class="token class-name">MyWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">runApp</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token class-name">GameWidget</span><span class="token punctuation">(</span>game<span class="token punctuation">:</span> myGame<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">If you instantiate your game in a build method your game will be rebuilt every</span>
<span class="line">time the Flutter tree gets rebuilt, which usually is more often than you&#39;d like.</span>
<span class="line">To avoid this, you can either create an instance of your game first and</span>
<span class="line">reference it within your widget structure or use the `GameWidget.controlled`</span>
<span class="line">constructor.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To remove components from the list on a <code>FlameGame</code> the <code>remove</code> or <code>removeAll</code> methods can be used. The first can be used if you just want to remove one component, and the second can be used when you want to remove a list of components. These methods exist on all <code>Component</code>s, including the world.</p><h2 id="game-loop" tabindex="-1"><a class="header-anchor" href="#game-loop"><span>Game Loop</span></a></h2><p>The <code>GameLoop</code> module is a simple abstraction of the game loop concept. Basically, most games are built upon two methods:</p><ul><li>The render method takes the canvas for drawing the current state of the game.</li><li>The update method receives the delta time in microseconds since the last update and allows you to move to the next state.</li></ul><p>The <code>GameLoop</code> is used by all of Flame&#39;s <code>Game</code> implementations.</p><h2 id="resizing" tabindex="-1"><a class="header-anchor" href="#resizing"><span>Resizing</span></a></h2><p>Every time the game needs to be resized, for example when the orientation is changed, <code>FlameGame</code> will call all of the <code>Component</code>s <code>onGameResize</code> methods and it will also pass this information to the camera and viewport.</p><p>The <code>FlameGame.camera</code> controls which point in the coordinate space that should be at the anchor of your viewfinder, [0,0] is in the center (<code>Anchor.center</code>) of the viewport by default.</p><h2 id="lifecycle" tabindex="-1"><a class="header-anchor" href="#lifecycle"><span>Lifecycle</span></a></h2><p>The <code>FlameGame</code> lifecycle callbacks, <code>onLoad</code>, <code>render</code>, etc. are called in the following sequence:</p><p><img src="/images/game_lifecycle.png" alt="a"></p><p>When a <code>FlameGame</code> is first added to a <code>GameWidget</code> the lifecycle methods <code>onGameResize</code>, <code>onLoad</code> and <code>onMount</code> will be called in that order. Then <code>update</code> and <code>render</code> are called in sequence for every game tick. If the <code>FlameGame</code> is removed from the <code>GameWidget</code> then <code>onRemove</code> is called. If the <code>FlameGame</code> is added to a new <code>GameWidget</code> the sequence repeats from <code>onGameResize</code>.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">The order of `onGameResize`and `onLoad` are reversed from that of other</span>
<span class="line">`Component`s. This is to allow game element sizes to be calculated before</span>
<span class="line">resources are loaded or generated.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>onRemove</code> callback can be used to clean up children and cached data:</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line">  <span class="token metadata function">@override</span></span>
<span class="line">  <span class="token keyword">void</span> <span class="token function">onRemove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Optional based on your game needs.</span></span>
<span class="line">    <span class="token function">removeAll</span><span class="token punctuation">(</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">processLifecycleEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Flame</span><span class="token punctuation">.</span>images<span class="token punctuation">.</span><span class="token function">clearCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">Flame</span><span class="token punctuation">.</span>assets<span class="token punctuation">.</span><span class="token function">clearCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// Any other code that you want to run when the game is removed.</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Clean-up of children and resources in a `FlameGame` is not done automatically</span>
<span class="line">and must be explicitly added to the `onRemove` call.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="debug-mode" tabindex="-1"><a class="header-anchor" href="#debug-mode"><span>Debug mode</span></a></h2><p>Flame&#39;s <code>FlameGame</code> class provides a variable called <code>debugMode</code>, which by default is <code>false</code>. It can, however, be set to <code>true</code> to enable debug features for the components of the game. <strong>Be aware</strong> that the value of this variable is passed through to its components when they are added to the game, so if you change the <code>debugMode</code> at runtime, it will not affect already added components by default.</p><p>To read more about the <code>debugMode</code> on Flame, please refer to the <a class="route-link" href="/guide/flame/other/debug.html">Debug Docs</a></p><h2 id="change-background-color" tabindex="-1"><a class="header-anchor" href="#change-background-color"><span>Change background color</span></a></h2><p>To change the background color of your <code>FlameGame</code> you have to override <code>backgroundColor()</code>.</p><p>In the following example, the background color is set to be fully transparent, so that you can see the widgets that are behind the <code>GameWidget</code>. The default is opaque black.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">MyGame</span> <span class="token keyword">extends</span> <span class="token class-name">FlameGame</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token metadata function">@override</span></span>
<span class="line">  <span class="token class-name">Color</span> <span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0x00000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Note that the background color can&#39;t change dynamically while the game is running, but you could just draw a background that covers the whole canvas if you would want it to change dynamically.</p><h2 id="singlegameinstance-mixin" tabindex="-1"><a class="header-anchor" href="#singlegameinstance-mixin"><span>SingleGameInstance mixin</span></a></h2><p>An optional mixin <code>SingleGameInstance</code> can be applied to your game if you are making a single-game application. This is a common scenario when building games: there is a single full-screen <code>GameWidget</code> that hosts a single <code>Game</code> instance.</p><p>Adding this mixin provides performance advantages in certain scenarios. In particular, a component&#39;s <code>onLoad</code> method is guaranteed to start when that component is added to its parent, even if the parent is not yet mounted itself. Consequently, <code>await</code>-ing on <code>parent.add(component)</code> is guaranteed to always finish loading the component.</p><p>Using this mixin is simple:</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">MyGame</span> <span class="token keyword">extends</span> <span class="token class-name">FlameGame</span> <span class="token keyword">with</span> <span class="token class-name">SingleGameInstance</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="low-level-game-api" tabindex="-1"><a class="header-anchor" href="#low-level-game-api"><span>Low-level Game API</span></a></h2><p><img src="/images/lowlevel.png" alt="1"></p><p>The abstract <code>Game</code> class is a low-level API that can be used when you want to implement the functionality of how the game engine should be structured. <code>Game</code> does not implement any <code>update</code> or <code>render</code> function for example.</p><p>The class also has the lifecycle methods <code>onLoad</code>, <code>onMount</code> and <code>onRemove</code> in it, which are called from the <code>GameWidget</code> (or another parent) when the game is loaded + mounted, or removed. <code>onLoad</code> is only called the first time the class is added to a parent, but <code>onMount</code> (which is called after <code>onLoad</code>) is called every time it is added to a new parent. <code>onRemove</code> is called when the class is removed from a parent.</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">The `Game` class allows for more freedom of how to implement things, but you</span>
<span class="line">are also missing out on all of the built-in features in Flame if you use it.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>An example of how a <code>Game</code> implementation could look like is:</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">MyGameSubClass</span> <span class="token keyword">extends</span> <span class="token class-name">Game</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token metadata function">@override</span></span>
<span class="line">  <span class="token keyword">void</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token metadata function">@override</span></span>
<span class="line">  <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span>double dt<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">final</span> myGame <span class="token operator">=</span> <span class="token class-name">MyGameSubClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">runApp</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token class-name">GameWidget</span><span class="token punctuation">(</span></span>
<span class="line">      game<span class="token punctuation">:</span> myGame<span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="pause-resuming-stepping-game-execution" tabindex="-1"><a class="header-anchor" href="#pause-resuming-stepping-game-execution"><span>Pause/Resuming/Stepping game execution</span></a></h2><p>A Flame <code>Game</code> can be paused and resumed in two ways:</p><ul><li>With the use of the <code>pauseEngine</code> and <code>resumeEngine</code> methods.</li><li>By changing the <code>paused</code> attribute.</li></ul><p>When pausing a <code>Game</code>, the <code>GameLoop</code> is effectively paused, meaning that no updates or new renders will happen until it is resumed.</p><p>While the game is paused, it is possible to advanced it frame by frame using the <code>stepEngine</code> method. It might not be much useful in the final game, but can be very helpful in inspecting game state step by step during the development cycle.</p><h3 id="backgrounding" tabindex="-1"><a class="header-anchor" href="#backgrounding"><span>Backgrounding</span></a></h3><p>The game will be automatically paused when the app is sent to the background, and resumed when it comes back to the foreground. This behavior can be disabled by setting <code>pauseWhenBackgrounded</code> to <code>false</code>.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">MyGame</span> <span class="token keyword">extends</span> <span class="token class-name">FlameGame</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token class-name">MyGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    pauseWhenBackgrounded <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>On the current Flutter stable (3.13), this flag is effectively ignored on non-mobile platforms including the web.</p><h2 id="hasperformancetracker-mixin" tabindex="-1"><a class="header-anchor" href="#hasperformancetracker-mixin"><span>HasPerformanceTracker mixin</span></a></h2><p>While optimizing a game, it can be useful to track the time it took for the game to update and render each frame. This data can help in detecting areas of the code that are running hot. It can also help in detecting visual areas of the game that are taking the most time to render.</p><p>To get the update and render times, just add the <code>HasPerformanceTracker</code> mixin to the game class.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">MyGame</span> <span class="token keyword">extends</span> <span class="token class-name">FlameGame</span> <span class="token keyword">with</span> <span class="token class-name">HasPerformanceTracker</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// access `updateTime` and `renderTime` getters.</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/jackyanjiaqi/jackyanjiaqi.github.io/edit/main/docs/guide/flame/game.md" aria-label="编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">最后更新: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: jackyanjiaqi@gmail.com">JackYanjiaqi</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/guide/flame/game.chatgpt.html" aria-label="GPT版"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>GPT版</span></div></a><!----></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-B8TszOv9.js" defer></script>
  </body>
</html>
