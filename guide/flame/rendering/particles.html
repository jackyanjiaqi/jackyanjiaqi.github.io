<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Particles</title><meta name="description" content="">
    <link rel="preload" href="/assets/style-BN648wXD.css" as="style"><link rel="stylesheet" href="/assets/style-BN648wXD.css">
    <link rel="modulepreload" href="/assets/app-BZlJFCNj.js"><link rel="modulepreload" href="/assets/particles.html-B9d1bNbY.js">
    <link rel="prefetch" href="/assets/index.html-BOsVFE0X.js" as="script"><link rel="prefetch" href="/assets/index.html-BrkhkTdb.js" as="script"><link rel="prefetch" href="/assets/index.html-BrkhkTdb.js" as="script"><link rel="prefetch" href="/assets/camera.1.23.0.chatgpt.html-WKCAvH2U.js" as="script"><link rel="prefetch" href="/assets/camera.1.23.0.deepseek.html-DhSEniCa.js" as="script"><link rel="prefetch" href="/assets/camera.1.23.0.html-DDwQ3ahk.js" as="script"><link rel="prefetch" href="/assets/camera_component.chatgpt.html-CBh9F4eV.js" as="script"><link rel="prefetch" href="/assets/camera_component.html-DAakBrdg.js" as="script"><link rel="prefetch" href="/assets/camera_component.qwen.html-B3E_7FPB.js" as="script"><link rel="prefetch" href="/assets/collision_detection.html-P2gKH4vy.js" as="script"><link rel="prefetch" href="/assets/collision_detection.qwen.html-D3BGogtx.js" as="script"><link rel="prefetch" href="/assets/components.html-B7PuJZhh.js" as="script"><link rel="prefetch" href="/assets/components.qwen.html-DFzgAUYo.js" as="script"><link rel="prefetch" href="/assets/effects.html-ZLhB_xnw.js" as="script"><link rel="prefetch" href="/assets/effects.qwen.html-BOpOKCoz.js" as="script"><link rel="prefetch" href="/assets/game.chatgpt.html-D4D3pRgW.js" as="script"><link rel="prefetch" href="/assets/game.html-BjAZGUqd.js" as="script"><link rel="prefetch" href="/assets/game_widget.chatgpt.html-7S1uKyvK.js" as="script"><link rel="prefetch" href="/assets/game_widget.html-Dsc2ng0v.js" as="script"><link rel="prefetch" href="/assets/overlays.chatgpt.html-C6viANBM.js" as="script"><link rel="prefetch" href="/assets/overlays.html-CgvDuBNC.js" as="script"><link rel="prefetch" href="/assets/platforms.chatgpt.html-Dao4gn_U.js" as="script"><link rel="prefetch" href="/assets/platforms.html-BLmoMqTq.js" as="script"><link rel="prefetch" href="/assets/router.chatgpt.html-UrzbMi--.js" as="script"><link rel="prefetch" href="/assets/router.html-CBFDNsBx.js" as="script"><link rel="prefetch" href="/assets/structure.1.23.0.chatgpt.html-B4bNBR9x.js" as="script"><link rel="prefetch" href="/assets/structure.1.23.0.html-CHTDt-ij.js" as="script"><link rel="prefetch" href="/assets/structure.chatgpt.html-B5olRU6X.js" as="script"><link rel="prefetch" href="/assets/structure.html-BoFUGdBD.js" as="script"><link rel="prefetch" href="/assets/structure.qwen.html-DSQ1TG6f.js" as="script"><link rel="prefetch" href="/assets/drag_events.chatgpt.html-DqiSepBR.js" as="script"><link rel="prefetch" href="/assets/drag_events.html-CkRVjTAU.js" as="script"><link rel="prefetch" href="/assets/gesture_input.chatgpt.html-BZpsWSDu.js" as="script"><link rel="prefetch" href="/assets/gesture_input.html-DX8wybtM.js" as="script"><link rel="prefetch" href="/assets/hardware_keyboard_detector.chatgpt.html-DcOvtsDp.js" as="script"><link rel="prefetch" href="/assets/hardware_keyboard_detector.html-r8eOAeQH.js" as="script"><link rel="prefetch" href="/assets/keyboard_input.chatgpt.html-Bqa4n3cs.js" as="script"><link rel="prefetch" href="/assets/keyboard_input.html-DazJZ9LE.js" as="script"><link rel="prefetch" href="/assets/keyboard_input.qwen.html-CGR2YvWt.js" as="script"><link rel="prefetch" href="/assets/other_inputs.chatgpt.html-Cu6g8ul-.js" as="script"><link rel="prefetch" href="/assets/other_inputs.html-C2NvTbkK.js" as="script"><link rel="prefetch" href="/assets/other_inputs.qwen.html-C7UW_Pfz.js" as="script"><link rel="prefetch" href="/assets/pointer_events.chatgpt.html-BOxiKQTK.js" as="script"><link rel="prefetch" href="/assets/pointer_events.html-B0ceDjzd.js" as="script"><link rel="prefetch" href="/assets/tap_events.chatgpt.html-zFBbY2AL.js" as="script"><link rel="prefetch" href="/assets/tap_events.html-C1R9V8Xn.js" as="script"><link rel="prefetch" href="/assets/debug.chatgpt.html-DEkKX0Ox.js" as="script"><link rel="prefetch" href="/assets/debug.html-C0M1QN-X.js" as="script"><link rel="prefetch" href="/assets/performance.chatgpt.html-F5OPSZQ9.js" as="script"><link rel="prefetch" href="/assets/performance.html-C9f_Svmn.js" as="script"><link rel="prefetch" href="/assets/util.1.23.0.chatgpt.html-jWa1lA06.js" as="script"><link rel="prefetch" href="/assets/util.1.23.0.deepseek.html-CY0LO9IF.js" as="script"><link rel="prefetch" href="/assets/util.1.23.0.html-CKgZqXx9.js" as="script"><link rel="prefetch" href="/assets/util.chatgpt.html-DXiTsIzL.js" as="script"><link rel="prefetch" href="/assets/util.html-B6K7sYA1.js" as="script"><link rel="prefetch" href="/assets/widgets.chatgpt.html-3GoCv0l0.js" as="script"><link rel="prefetch" href="/assets/widgets.html-Du2q8Rs_.js" as="script"><link rel="prefetch" href="/assets/align_component.chatgpt.html-zLEeeQ2y.js" as="script"><link rel="prefetch" href="/assets/align_component.html-CdFMfKaw.js" as="script"><link rel="prefetch" href="/assets/decorators.chatgpt.html-B_O6CH-e.js" as="script"><link rel="prefetch" href="/assets/decorators.html-h5eEZNse.js" as="script"><link rel="prefetch" href="/assets/images.chatgpt.html-CpOgz4X6.js" as="script"><link rel="prefetch" href="/assets/images.html-DvWGBc87.js" as="script"><link rel="prefetch" href="/assets/images.qwen.html-CZvv-87N.js" as="script"><link rel="prefetch" href="/assets/layers.chatgpt.html-udKgkyH2.js" as="script"><link rel="prefetch" href="/assets/layers.html-Bipp0uD-.js" as="script"><link rel="prefetch" href="/assets/layers.qwen.html-BhudZmmM.js" as="script"><link rel="prefetch" href="/assets/palette.chatgpt.html-NZoJycBb.js" as="script"><link rel="prefetch" href="/assets/palette.html-DziHQt64.js" as="script"><link rel="prefetch" href="/assets/particles.1.23.0.chatgpt.html-DEU5sfh7.js" as="script"><link rel="prefetch" href="/assets/particles.1.23.0.html-Ch6r4sf5.js" as="script"><link rel="prefetch" href="/assets/particles.chatgpt.html-bQ47Hbws.js" as="script"><link rel="prefetch" href="/assets/text_rendering.html-DCmc3wh_.js" as="script"><link rel="prefetch" href="/assets/text_rendering.qwen.html-DMMWChQl.js" as="script"><link rel="prefetch" href="/assets/404.html-BJmrQjzX.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-BgDAv4ga.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/images/logo.png" alt><!----></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://immvpc32u2.feishu.cn/docx/Lwq1dh3vTol4YXxb44jc7ZIRnxd?from=from_copylink" aria-label="AI 融合游戏引擎(文档1.0.1)丨加微信：DigitalSpriteJack丨进开发交流群丨点击查看路线图" rel="noopener noreferrer" target="_blank"><!---->AI 融合游戏引擎(文档1.0.1)丨加微信：DigitalSpriteJack丨进开发交流群丨点击查看路线图<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://docs.flame-engine.org/latest" aria-label="基于flame 1.22.0丨最新 1.23.0" rel="noopener noreferrer" target="_blank"><!---->基于flame 1.22.0丨最新 1.23.0<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://flame-engine.org/" aria-label="flame官网" rel="noopener noreferrer" target="_blank"><!---->flame官网<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://examples.flame-engine.org/" aria-label="flame示例" rel="noopener noreferrer" target="_blank"><!---->flame示例<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/flame-engine/flame" aria-label="flame Github" rel="noopener noreferrer" target="_blank"><!---->flame Github<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://immvpc32u2.feishu.cn/docx/Lwq1dh3vTol4YXxb44jc7ZIRnxd?from=from_copylink" aria-label="AI 融合游戏引擎(文档1.0.1)丨加微信：DigitalSpriteJack丨进开发交流群丨点击查看路线图" rel="noopener noreferrer" target="_blank"><!---->AI 融合游戏引擎(文档1.0.1)丨加微信：DigitalSpriteJack丨进开发交流群丨点击查看路线图<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://docs.flame-engine.org/latest" aria-label="基于flame 1.22.0丨最新 1.23.0" rel="noopener noreferrer" target="_blank"><!---->基于flame 1.22.0丨最新 1.23.0<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://flame-engine.org/" aria-label="flame官网" rel="noopener noreferrer" target="_blank"><!---->flame官网<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://examples.flame-engine.org/" aria-label="flame示例" rel="noopener noreferrer" target="_blank"><!---->flame示例<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/flame-engine/flame" aria-label="flame Github" rel="noopener noreferrer" target="_blank"><!---->flame Github<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/" aria-label="入门指南"><!---->入门指南<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading active collapsible" href="/guide/flame/structure.chatgpt.html" aria-label="▼ Flame（文件结构..）"><!---->▼ Flame（文件结构..）<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/game_widget.chatgpt.html" aria-label="|-游戏小部件"><!---->|-游戏小部件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/game_widget.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/game_widget.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/game.chatgpt.html" aria-label="|-游戏循环"><!---->|-游戏循环<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/game.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/game.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/components.qwen.html" aria-label="|-组件"><!---->|-组件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/components.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/components.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/camera.1.23.0.chatgpt.html" aria-label="|-相机组件"><!---->|-相机组件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/camera.1.23.0.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/camera.1.23.0.deepseek.html" aria-label="DEEPSEEK版"><!---->DEEPSEEK版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/camera.1.23.0.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/camera_component.chatgpt.html" aria-label="1.22.0.GPT版"><!---->1.22.0.GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/camera_component.qwen.html" aria-label="1.22.0.千问版"><!---->1.22.0.千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/camera_component.html" aria-label="1.22.0.英文原版"><!---->1.22.0.英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/structure.1.23.0.chatgpt.html" aria-label="|-文件结构"><!---->|-文件结构<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/structure.1.23.0.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/structure.1.23.0.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/structure.chatgpt.html" aria-label="1.22.0.GPT版"><!---->1.22.0.GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/structure.qwen.html" aria-label="1.22.0.千问版"><!---->1.22.0.千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/structure.html" aria-label="1.22.0.英文原版"><!---->1.22.0.英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/router.chatgpt.html" aria-label="|-路由"><!---->|-路由<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/router.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/router.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/platforms.chatgpt.html" aria-label="|-平台"><!---->|-平台<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/platforms.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/platforms.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/collision_detection.qwen.html" aria-label="|-碰撞检测"><!---->|-碰撞检测<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/collision_detection.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/collision_detection.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/effects.qwen.html" aria-label="|-效果器"><!---->|-效果器<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/effects.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/effects.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/keyboard_input.chatgpt.html" aria-label="| ▼ 输入(..键盘输入..)"><!---->| ▼ 输入(..键盘输入..)<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/drag_events.chatgpt.html" aria-label="|-拖拽事件"><!---->|-拖拽事件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/drag_events.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/drag_events.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/gesture_input.chatgpt.html" aria-label="|-手势输入"><!---->|-手势输入<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/gesture_input.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/gesture_input.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/keyboard_input.chatgpt.html" aria-label="|-键盘输入"><!---->|-键盘输入<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/keyboard_input.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/keyboard_input.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/keyboard_input.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/other_inputs.chatgpt.html" aria-label="|-其他输入"><!---->|-其他输入<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/other_inputs.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/other_inputs.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/other_inputs.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/tap_events.chatgpt.html" aria-label="|-点击事件"><!---->|-点击事件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/tap_events.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/tap_events.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/pointer_events.chatgpt.html" aria-label="|-指针事件"><!---->|-指针事件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/pointer_events.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/pointer_events.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/inputs/hardware_keyboard_detector.chatgpt.html" aria-label="|-硬件键盘探测器"><!---->|-硬件键盘探测器<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/hardware_keyboard_detector.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/inputs/hardware_keyboard_detector.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item active collapsible" href="/guide/flame/rendering/palette.chatgpt.html" aria-label="| ▼ 渲染(颜色..)"><!---->| ▼ 渲染(颜色..)<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/rendering/palette.chatgpt.html" aria-label="|-颜色"><!---->|-颜色<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/palette.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/palette.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/rendering/decorators.chatgpt.html" aria-label="|-装饰器"><!---->|-装饰器<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/decorators.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/decorators.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/rendering/images.chatgpt.html" aria-label="|-图像精灵和动画"><!---->|-图像精灵和动画<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/images.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/images.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/images.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/rendering/layers.chatgpt.html" aria-label="|-图层和快照"><!---->|-图层和快照<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/layers.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/layers.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/layers.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item active collapsible" href="/guide/flame/rendering/particles.1.23.0.chatgpt.html" aria-label="|-粒子"><!---->|-粒子<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/particles.1.23.0.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/particles.1.23.0.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/particles.chatgpt.html" aria-label="1.22.0.GPT版"><!---->1.22.0.GPT版<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/guide/flame/rendering/particles.html" aria-label="1.22.0.英文原版"><!---->1.22.0.英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/rendering/text_rendering.qwen.html" aria-label="|-文本渲染"><!---->|-文本渲染<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/text_rendering.qwen.html" aria-label="千问版"><!---->千问版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/rendering/text_rendering.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/layout/align_component.chatgpt.html" aria-label="| ▼ 布局(对齐组件)"><!---->| ▼ 布局(对齐组件)<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/layout/align_component.chatgpt.html" aria-label="|-对齐组件"><!---->|-对齐组件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/layout/align_component.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/layout/align_component.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/overlays.chatgpt.html" aria-label="|-悬浮层"><!---->|-悬浮层<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/overlays.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/overlays.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/other/debug.chatgpt.html" aria-label="| ▼ 其他(调试..)"><!---->| ▼ 其他(调试..)<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/other/debug.chatgpt.html" aria-label="|-调试"><!---->|-调试<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/debug.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/debug.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/other/util.1.23.0.chatgpt.html" aria-label="|-工具"><!---->|-工具<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/util.1.23.0.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/util.1.23.0.deepseek.html" aria-label="DEEPSEEK版"><!---->DEEPSEEK版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/util.1.23.0.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/util.chatgpt.html" aria-label="1.22.0.GPT版"><!---->1.22.0.GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/util.html" aria-label="1.22.0.英文原版"><!---->1.22.0.英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/other/widgets.chatgpt.html" aria-label="|-小部件"><!---->|-小部件<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/widgets.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/widgets.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item collapsible" href="/guide/flame/other/performance.chatgpt.html" aria-label="|-性能优化"><!---->|-性能优化<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/performance.chatgpt.html" aria-label="GPT版"><!---->GPT版<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/flame/other/performance.html" aria-label="英文原版"><!---->英文原版<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="particles" tabindex="-1"><a class="header-anchor" href="#particles"><span>Particles</span></a></h1><p>Flame offers a basic, yet robust and extendable particle system. The core concept of this system is the <code>Particle</code> class, which is very similar in its behavior to the <code>ParticleSystemComponent</code>.</p><p>The most basic usage of a <code>Particle</code> with <code>FlameGame</code> would look as in the following:</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flame/components.dart&#39;</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ...</span></span>
<span class="line"></span>
<span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token comment">// Wrapping a Particle with ParticleSystemComponent</span></span>
<span class="line">  <span class="token comment">// which maps Component lifecycle hooks to Particle ones</span></span>
<span class="line">  <span class="token comment">// and embeds a trigger for removing the component.</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">CircleParticle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When using <code>Particle</code> with a custom <code>Game</code> implementation, please ensure that both the <code>update</code> and <code>render</code> methods are called during each game loop tick.</p><p>Main approaches to implement desired particle effects:</p><ul><li>Composition of existing behaviors.</li><li>Use behavior chaining (just a syntactic sugar of the first one).</li><li>Using <code>ComputedParticle</code>.</li></ul><p>Composition works in a similar fashion to those of Flutter widgets by defining the effect from top to bottom. Chaining allows to express the same composition trees more fluently by defining behaviors from bottom to top. Computed particles in their turn fully delegate implementation of the behavior to your code. Any of the approaches could be used in conjunction with existing behaviors where needed.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token class-name">Random</span> rnd <span class="token operator">=</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">Vector2</span> <span class="token function">randomVector2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>rnd<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>rnd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">200</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Composition.</span></span>
<span class="line"><span class="token comment">//</span></span>
<span class="line"><span class="token comment">// Defining a particle effect as a set of nested behaviors from top to bottom,</span></span>
<span class="line"><span class="token comment">// one within another:</span></span>
<span class="line"><span class="token comment">//</span></span>
<span class="line"><span class="token comment">// ParticleSystemComponent</span></span>
<span class="line"><span class="token comment">//   &gt; ComposedParticle</span></span>
<span class="line"><span class="token comment">//     &gt; AcceleratedParticle</span></span>
<span class="line"><span class="token comment">//       &gt; CircleParticle</span></span>
<span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">Particle</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span></span>
<span class="line">      count<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">      generator<span class="token punctuation">:</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">AcceleratedParticle</span><span class="token punctuation">(</span></span>
<span class="line">        acceleration<span class="token punctuation">:</span> <span class="token function">randomVector2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        child<span class="token punctuation">:</span> <span class="token class-name">CircleParticle</span><span class="token punctuation">(</span></span>
<span class="line">          paint<span class="token punctuation">:</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Chaining.</span></span>
<span class="line"><span class="token comment">//</span></span>
<span class="line"><span class="token comment">// Expresses the same behavior as above, but with a more fluent API.</span></span>
<span class="line"><span class="token comment">// Only Particles with SingleChildParticle mixin can be used as chainable behaviors.</span></span>
<span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">Particle</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span></span>
<span class="line">      count<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">      generator<span class="token punctuation">:</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name"><span class="token namespace">pt<span class="token punctuation">.</span></span>CircleParticle</span><span class="token punctuation">(</span>paint<span class="token punctuation">:</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Computed Particle.</span></span>
<span class="line"><span class="token comment">//</span></span>
<span class="line"><span class="token comment">// All the behaviors are defined explicitly. Offers greater flexibility</span></span>
<span class="line"><span class="token comment">// compared to built-in behaviors.</span></span>
<span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">      particle<span class="token punctuation">:</span> <span class="token class-name">Particle</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span></span>
<span class="line">        count<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">        generator<span class="token punctuation">:</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token class-name">Vector2</span> position <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">zero</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">          <span class="token class-name">Vector2</span> speed <span class="token operator">=</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">zero</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">          <span class="token keyword">final</span> acceleration <span class="token operator">=</span> <span class="token function">randomVector2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">          <span class="token keyword">final</span> paint <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">          <span class="token keyword">return</span> <span class="token class-name">ComputedParticle</span><span class="token punctuation">(</span></span>
<span class="line">            renderer<span class="token punctuation">:</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">              speed <span class="token operator">+=</span> acceleration<span class="token punctuation">;</span></span>
<span class="line">              position <span class="token operator">+=</span> speed<span class="token punctuation">;</span></span>
<span class="line">              canvas<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token class-name">Offset</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span>x<span class="token punctuation">,</span> position<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>See more <a href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/rendering/particles_example.dart" target="_blank" rel="noopener noreferrer">examples of how to use built-in particles in various combinations</a>.</p><h2 id="lifecycle" tabindex="-1"><a class="header-anchor" href="#lifecycle"><span>Lifecycle</span></a></h2><p>A behavior common to all <code>Particle</code>s is that all of them accept a <code>lifespan</code> argument. This value is used to make the <code>ParticleSystemComponent</code> remove itself once its internal <code>Particle</code> has reached the end of its life. Time within the <code>Particle</code> itself is tracked using the Flame <code>Timer</code> class. It can be configured with a <code>double</code>, represented in seconds (with microsecond precision) by passing it into the corresponding <code>Particle</code> constructor.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token class-name">Particle</span><span class="token punctuation">(</span>lifespan<span class="token punctuation">:</span> <span class="token number">.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will live for 200ms.</span></span>
<span class="line"><span class="token class-name">Particle</span><span class="token punctuation">(</span>lifespan<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will live for 4s.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>It is also possible to reset a <code>Particle</code>&#39;s lifespan by using the <code>setLifespan</code> method, which also accepts a <code>double</code> of seconds.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">final</span> particle <span class="token operator">=</span> <span class="token class-name">Particle</span><span class="token punctuation">(</span>lifespan<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ... after some time.</span></span>
<span class="line">particle<span class="token punctuation">.</span><span class="token function">setLifespan</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// will live for another 2s.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>During its lifetime, a <code>Particle</code> tracks the time it was alive and exposes it through the <code>progress</code> getter, which returns a value between <code>0.0</code> and <code>1.0</code>. This value can be used in a similar fashion as the <code>value</code> property of the <code>AnimationController</code> class in Flutter.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">final</span> particle <span class="token operator">=</span> <span class="token class-name">Particle</span><span class="token punctuation">(</span>lifespan<span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span>particle<span class="token punctuation">:</span> particle<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Will print values from 0 to 1 with step of .1: 0, 0.1, 0.2 ... 0.9, 1.0.</span></span>
<span class="line"><span class="token class-name">Timer</span><span class="token punctuation">.</span><span class="token function">periodic</span><span class="token punctuation">(</span>duration <span class="token operator">*</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span>particle<span class="token punctuation">.</span>progress<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>lifespan</code> is passed down to all the descendants of a given <code>Particle</code>, if it supports any of the nesting behaviors.</p><h2 id="built-in-particles" tabindex="-1"><a class="header-anchor" href="#built-in-particles"><span>Built-in particles</span></a></h2><p>Flame ships with a few built-in <code>Particle</code> behaviors:</p><ul><li>The <code>TranslatedParticle</code> translates its <code>child</code> by given <code>Vector2</code></li><li>The <code>MovingParticle</code> moves its <code>child</code> between two predefined <code>Vector2</code>, supports <code>Curve</code></li><li>The <code>AcceleratedParticle</code> allows basic physics based effects, like gravitation or speed dampening</li><li>The <code>CircleParticle</code> renders circles of all shapes and sizes</li><li>The <code>SpriteParticle</code> renders Flame <code>Sprite</code> within a <code>Particle</code> effect</li><li>The <code>ImageParticle</code> renders <em>dart:ui</em> <code>Image</code> within a <code>Particle</code> effect</li><li>The <code>ComponentParticle</code> renders Flame <code>Component</code> within a <code>Particle</code> effect</li><li>The <code>FlareParticle</code> renders Flare animation within a <code>Particle</code> effect</li></ul><p>See more <a href="https://github.com/flame-engine/flame/blob/main/examples/lib/stories/rendering/particles_example.dart" target="_blank" rel="noopener noreferrer">examples of how to use built-in Particle behaviors together</a>. All the implementations are available in the <a href="https://github.com/flame-engine/flame/tree/main/packages/flame/lib/src/particles" target="_blank" rel="noopener noreferrer">particles folder on the Flame repository.</a></p><h2 id="translatedparticle" tabindex="-1"><a class="header-anchor" href="#translatedparticle"><span>TranslatedParticle</span></a></h2><p>Simply translates the underlying <code>Particle</code> to a specified <code>Vector2</code> within the rendering <code>Canvas</code>. Does not change or alter its position, consider using <code>MovingParticle</code> or <code>AcceleratedParticle</code> where change of position is required. Same effect could be achieved by translating the <code>Canvas</code> layer.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">TranslatedParticle</span><span class="token punctuation">(</span></span>
<span class="line">      <span class="token comment">// Will translate the child Particle effect to the center of game canvas.</span></span>
<span class="line">      offset<span class="token punctuation">:</span> game<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">      child<span class="token punctuation">:</span> <span class="token class-name">Particle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="movingparticle" tabindex="-1"><a class="header-anchor" href="#movingparticle"><span>MovingParticle</span></a></h2><p>Moves the child <code>Particle</code> between the <code>from</code> and <code>to</code> <code>Vector2</code>s during its lifespan. Supports <code>Curve</code> via <code>CurvedParticle</code>.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">MovingParticle</span><span class="token punctuation">(</span></span>
<span class="line">      <span class="token comment">// Will move from corner to corner of the game canvas.</span></span>
<span class="line">      from<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">zero</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      to<span class="token punctuation">:</span> game<span class="token punctuation">.</span>size<span class="token punctuation">,</span></span>
<span class="line">      child<span class="token punctuation">:</span> <span class="token class-name">CircleParticle</span><span class="token punctuation">(</span></span>
<span class="line">        radius<span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token punctuation">,</span></span>
<span class="line">        paint<span class="token punctuation">:</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="acceleratedparticle" tabindex="-1"><a class="header-anchor" href="#acceleratedparticle"><span>AcceleratedParticle</span></a></h2><p>A basic physics particle which allows you to specify its initial <code>position</code>, <code>speed</code> and <code>acceleration</code> and lets the <code>update</code> cycle do the rest. All three are specified as <code>Vector2</code>s, which you can think of as vectors. It works especially well for physics-based &quot;bursts&quot;, but it is not limited to that. Unit of the <code>Vector2</code> value is <em>logical px/s</em>. So a speed of <code>Vector2(0, 100)</code> will move a child <code>Particle</code> by 100 logical pixels of the device every second of game time.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">final</span> rnd <span class="token operator">=</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Vector2</span> <span class="token function">randomVector2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>rnd<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>rnd<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">AcceleratedParticle</span><span class="token punctuation">(</span></span>
<span class="line">      <span class="token comment">// Will fire off in the center of game canvas</span></span>
<span class="line">      position<span class="token punctuation">:</span> game<span class="token punctuation">.</span>canvasSize<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token comment">// With random initial speed of Vector2(-100..100, 0..-100)</span></span>
<span class="line">      speed<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span>rnd<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">200</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token operator">-</span>rnd<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token comment">// Accelerating downwards, simulating &quot;gravity&quot;</span></span>
<span class="line">      <span class="token comment">// speed: Vector2(0, 100),</span></span>
<span class="line">      child<span class="token punctuation">:</span> <span class="token class-name">CircleParticle</span><span class="token punctuation">(</span></span>
<span class="line">        radius<span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token punctuation">,</span></span>
<span class="line">        paint<span class="token punctuation">:</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="circleparticle" tabindex="-1"><a class="header-anchor" href="#circleparticle"><span>CircleParticle</span></a></h2><p>A <code>Particle</code> which renders a circle with given <code>Paint</code> at the zero offset of passed <code>Canvas</code>. Use in conjunction with <code>TranslatedParticle</code>, <code>MovingParticle</code> or <code>AcceleratedParticle</code> in order to achieve desired positioning.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">CircleParticle</span><span class="token punctuation">(</span></span>
<span class="line">      radius<span class="token punctuation">:</span> game<span class="token punctuation">.</span>size<span class="token punctuation">.</span>x <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">      paint<span class="token punctuation">:</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="spriteparticle" tabindex="-1"><a class="header-anchor" href="#spriteparticle"><span>SpriteParticle</span></a></h2><p>Allows you to embed a <code>Sprite</code> into your particle effects.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">SpriteParticle</span><span class="token punctuation">(</span></span>
<span class="line">      sprite<span class="token punctuation">:</span> <span class="token class-name">Sprite</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;sprite.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      size<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="imageparticle" tabindex="-1"><a class="header-anchor" href="#imageparticle"><span>ImageParticle</span></a></h2><p>Renders given <code>dart:ui</code> image within the particle tree.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token comment">// During game initialization</span></span>
<span class="line"><span class="token keyword">await</span> <span class="token class-name">Flame</span><span class="token punctuation">.</span>images<span class="token punctuation">.</span><span class="token function">loadAll</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token string-literal"><span class="token string">&#39;image.png&#39;</span></span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ...</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Somewhere during the game loop</span></span>
<span class="line"><span class="token keyword">final</span> image <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">Flame</span><span class="token punctuation">.</span>images<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;image.png&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">ImageParticle</span><span class="token punctuation">(</span></span>
<span class="line">      size<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      image<span class="token punctuation">:</span> image<span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="scalingparticle" tabindex="-1"><a class="header-anchor" href="#scalingparticle"><span>ScalingParticle</span></a></h2><p>Scales the child <code>Particle</code> between <code>1</code> and <code>to</code> during its lifespan.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">ScalingParticle</span><span class="token punctuation">(</span></span>
<span class="line">      lifespan<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span></span>
<span class="line">      to<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">      curve<span class="token punctuation">:</span> <span class="token class-name">Curves</span><span class="token punctuation">.</span>easeIn<span class="token punctuation">,</span></span>
<span class="line">      child<span class="token punctuation">:</span> <span class="token class-name">CircleParticle</span><span class="token punctuation">(</span></span>
<span class="line">        radius<span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token punctuation">,</span></span>
<span class="line">        paint<span class="token punctuation">:</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="spriteanimationparticle" tabindex="-1"><a class="header-anchor" href="#spriteanimationparticle"><span>SpriteAnimationParticle</span></a></h2><p>A <code>Particle</code> which embeds a <code>SpriteAnimation</code>. By default, aligns the <code>SpriteAnimation</code>&#39;s <code>stepTime</code> so that it&#39;s fully played during the <code>Particle</code> lifespan. It&#39;s possible to override this behavior with the <code>alignAnimationTime</code> argument.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">final</span> spriteSheet <span class="token operator">=</span> <span class="token class-name">SpriteSheet</span><span class="token punctuation">(</span></span>
<span class="line">  image<span class="token punctuation">:</span> yourSpriteSheetImage<span class="token punctuation">,</span></span>
<span class="line">  srcSize<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">SpriteAnimationParticle</span><span class="token punctuation">(</span></span>
<span class="line">      animation<span class="token punctuation">:</span> spriteSheet<span class="token punctuation">.</span><span class="token function">createAnimation</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> stepTime<span class="token punctuation">:</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="componentparticle" tabindex="-1"><a class="header-anchor" href="#componentparticle"><span>ComponentParticle</span></a></h2><p>This <code>Particle</code> allows you to embed a <code>Component</code> within the particle effects. The <code>Component</code> could have its own <code>update</code> lifecycle and could be reused across different effect trees. If the only thing you need is to add some dynamics to an instance of a certain <code>Component</code>, please consider adding it to the <code>game</code> directly, without the <code>Particle</code> in the middle.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">final</span> longLivingRect <span class="token operator">=</span> <span class="token class-name">RectComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">ComponentParticle</span><span class="token punctuation">(</span></span>
<span class="line">      component<span class="token punctuation">:</span> longLivingRect</span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">RectComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">void</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    c<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span></span>
<span class="line">      <span class="token class-name">Rect</span><span class="token punctuation">.</span><span class="token function">fromCenter</span><span class="token punctuation">(</span>center<span class="token punctuation">:</span> <span class="token class-name">Offset</span><span class="token punctuation">.</span>zero<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red</span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span>double dt<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/// Will be called by parent [Particle]</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="computedparticle" tabindex="-1"><a class="header-anchor" href="#computedparticle"><span>ComputedParticle</span></a></h2><p>A <code>Particle</code> which could help you when:</p><ul><li>Default behavior is not enough</li><li>Complex effects optimization</li><li>Custom easings</li></ul><p>When created, it delegates all the rendering to a supplied <code>ParticleRenderDelegate</code> which is called on each frame to perform necessary computations and render something to the <code>Canvas</code>.</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token class-name">ParticleSystemComponent</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token comment">// Renders a circle which gradually changes its color and size during the</span></span>
<span class="line">    <span class="token comment">// particle lifespan.</span></span>
<span class="line">    particle<span class="token punctuation">:</span> <span class="token class-name">ComputedParticle</span><span class="token punctuation">(</span></span>
<span class="line">      renderer<span class="token punctuation">:</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> particle<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> canvas<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span></span>
<span class="line">        <span class="token class-name">Offset</span><span class="token punctuation">.</span>zero<span class="token punctuation">,</span></span>
<span class="line">        particle<span class="token punctuation">.</span>progress <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">lerp</span><span class="token punctuation">(</span></span>
<span class="line">            <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span></span>
<span class="line">            <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span></span>
<span class="line">            particle<span class="token punctuation">.</span>progress<span class="token punctuation">,</span></span>
<span class="line">          <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nesting-behavior" tabindex="-1"><a class="header-anchor" href="#nesting-behavior"><span>Nesting behavior</span></a></h2><p>Flame&#39;s implementation of particles follows the same pattern of extreme composition as Flutter widgets. That is achieved by encapsulating small pieces of behavior in every particle and then nesting these behaviors together to achieve the desired visual effect.</p><p>Two entities that allow <code>Particle</code>s to nest each other are: <code>SingleChildParticle</code> mixin and <code>ComposedParticle</code> class.</p><p>A <code>SingleChildParticle</code> may help you with creating <code>Particles</code> with a custom behavior. For example, randomly positioning its child during each frame:</p><p>The <code>SingleChildParticle</code> may help you with creating <code>Particles</code> with a custom behavior.</p><p>For example, randomly positioning it&#39;s child during each frame:</p><div class="language-dart line-numbers-mode" data-highlighter="prismjs" data-ext="dart" data-title="dart"><pre><code><span class="line"><span class="token keyword">var</span> rnd <span class="token operator">=</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">GlitchParticle</span> <span class="token keyword">extends</span> <span class="token class-name">Particle</span> <span class="token keyword">with</span> <span class="token class-name">SingleChildParticle</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token class-name">Particle</span> child<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token class-name">GlitchParticle</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    required <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">.</span>lifespan<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token metadata function">@override</span></span>
<span class="line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span>  <span class="token punctuation">{</span></span>
<span class="line">    canvas<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    canvas<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>rnd<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> rnd<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Will also render the child</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    canvas<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>ComposedParticle</code> could be used either as a standalone or within an existing <code>Particle</code> tree.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/jackyanjiaqi/jackyanjiaqi.github.io/edit/main/docs/guide/flame/rendering/particles.md" aria-label="编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">最后更新: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: jackyanjiaqi@gmail.com">JackYanjiaqi</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/guide/flame/rendering/particles.chatgpt.html" aria-label="1.22.0.GPT版"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>1.22.0.GPT版</span></div></a><!----></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BZlJFCNj.js" defer></script>
  </body>
</html>
